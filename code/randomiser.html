<!DOCTYPE html>
<html>
<!--
  Created using jsbin.com
  Source can be edited via http://jsbin.com/atelef/16/edit
-->
<head>
<meta name="description" content="shuffle and animate DOM using javascript" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<meta charset=utf-8 />
<title>JS Bin</title>

<style id="jsbin-css">
.current{
}

body {
  background-color:beige;
}

#someDiv {
  width:550px;
  height:80px;
  margin:0 auto;
  margin-top:50px;
  overflow:hidden;
  background-color:white;
  padding:10px;
}


#someDiv > p {
  display:none;
  text-align:center;
}

span {
  font-size:small;
  vertical-align:sub;
  margin-left:8px;
}
</style>
</head>
<body>
  
  <div id="someDiv">
    <p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque sed neque sed enim varius interdum. Morbi sodales pretium turpis, vitae.<span>#1</span></p>
    <p>Ut sagittis semper cursus. Aenean porttitor leo et est vulputate tincidunt. Proin facilisis cursus diam, et tempor lorem gravida sed. Aenean venenatis lorem nec est.<span>#2</span></p>
    <p>Morbi dolor arcu, tincidunt ac euismod ut, ultricies in urna. Nulla sed lorem nec ante malesuada ultricies. Ut sed mauris.<span>#3</span></p>
    <p>Mauris convallis volutpat erat luctus elementum. Praesent sed tristique dolor. Nullam at sollicitudin mi. Nullam orci tortor, aliquet vestibulum elementum quis, dictum vitae velit. Aliquam ut justo risus. <span>#4</span></p>
    <p>Nullam id nunc feugiat enim porta mattis. Aenean quis dolor nec purus tempor porttitor non id ipsum. Suspendisse.<span>#5</span></p>
    <p>Quisque lorem ipsum, eleifend nec malesuada auctor, malesuada ac mi. Ut id sodales arcu. Nullam hendrerit, arcu a pretium cursus, dolor arcu tempus nisi, ut.<span>#6</span></p>
    <p>Ut vel purus ligula. Nam convallis massa at urna feugiat vehicula. Vestibulum mauris urna, facilisis sit amet porttitor eget, posuere quis lorem. Vivamus ac cursus nunc. Etiam scelerisque sem non.<span>#7</span></p>
    <noscript><p>default phrase for those with no JavaScript</p></noscript>
  </div>
  
<script>
$(document).ready(function(){

  var mainArray = $("#someDiv > p"); 
  var oddArray = []; 
  var evenArray = [];
  
  split = function (thisArray) {
    for (i=0; i<thisArray.length; i++){
      if (i===0) {
        evenArray.push(thisArray[i]);
      } else if (i%2===1) {
        oddArray.push(thisArray[i]);
      } else if (i%2===0){
        evenArray.push(thisArray[i]);
      }
    }
    thisArray.splice(0,thisArray.length);
  };  
    
  shuffle = function (thisArray) {
    var newValue = "";
    var r = Math.random();
    if ((r>0.5 && oddArray.length>0) || (r<=0.5 && evenArray.length===0 && oddArray.length>0)) {
      newValue = Math.floor(r * oddArray.length); 
      thisArray.push(oddArray[newValue]);
      oddArray.splice(newValue,1);
      shuffle(thisArray);
    } else if ((r<=0.5 && evenArray.length>0) || (r>0.5 && oddArray.length===0 && evenArray.length>0)) {
      newValue = Math.floor(r * evenArray.length);
      thisArray.push(evenArray[newValue]);
      evenArray.splice(newValue,1);
      shuffle(thisArray);
    } else if (evenArray.length===0 && oddArray.length===0) {
      return thisArray;
    }
  };
  
  var q = 0;
  animate = function (theArray) {
    theArray[q].className="current";
    $(".current")
      .fadeIn(1000)
      .delay(5000)
      .fadeOut(1500,function(){
        $(".current").removeClass("current");
        q++;
        if (q===theArray.length){q=0;} 
        animate(theArray);
      });
  };    
    
  split(mainArray);
  shuffle(mainArray);
  animate(mainArray);
  
});
</script>
</body>
</html>